{"version":3,"sources":["../../../src/utils/numbers.ts","../../../src/hooks/use-query.ts","../../../src/hooks/use-async-action.ts","../../../src/components/tooltip/index.tsx","../../../src/components/space/index.tsx","../../../src/components/button/index.tsx","../../../src/components/message/index.tsx","../../../src/config-provider/context.ts","../../../src/dicts/hooks.ts","../../../src/components/table/column.tsx","../../../src/components/table/summary.tsx","../../../src/components/table/table.tsx","../../../src/components/table/index.tsx","../../../src/components/form/item.tsx","../../../src/components/form/error-list.tsx","../../../src/components/form/provider.tsx","../../../src/components/form/index.tsx","../../../src/components/box/index.tsx","../../../src/components/search/search.tsx","../../../src/components/search/item.tsx","../../../src/components/search/index.tsx","../../../src/components/dropdown/index.tsx","../../../src/components/popover/index.tsx","../../../src/components/checkbox/index.tsx","../../../src/components/page/tool.tsx","../../../src/components/page/index.tsx"],"names":["_","AntdTooltip","styled","AntdSpace","AntdButton","item","col","useMemo","jsx","jsxs","AntdTable","Table","Form","AntdForm","isDayjs","Item","props","Search","AntdDropdown","AntdPopover","AntdCheckbox","useCallback"],"mappings":"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","file":"index.js","sourcesContent":["import Bignumber from 'bignumber.js'\n\n/**千分位 */\nexport function thousands(num: number | string) {\n  if (!isNumber(num)) return num\n  const arr = String(num).split('.')\n  const intPart = arr[0].replace(/(\\d)(?=(\\d{3})+$)/g, '$1,')\n  return arr[1] ? `${intPart}.${arr[1]}` : intPart\n}\n\n/**小数保留n位 */\nexport function toFixed(num: number | string, n = 2) {\n  return new Bignumber(num).toFixed(n)\n}\n\n/**四舍五入 */\nexport function round(num: number | string, n = 2) {\n  return new Bignumber(num).decimalPlaces(n, Bignumber.ROUND_HALF_UP).toNumber()\n}\n\n/**小数不足n位补零 */\nexport function zerofill(num: number | string, n = 2) {\n  const [intPart, decPart = ''] = String(num).split('.')\n  if (decPart.length >= n) return num\n  const filledDec = decPart.padEnd(n, '0').slice(0, n)\n  return `${intPart}.${filledDec}`\n}\n\n/**数字转换为百分比模式 */\nexport function toPercent(num: number | string) {\n  return multiply(num, 100) + '%'\n}\n\n/**判断是否是数字 */\nexport function isNumber(num: any): num is number {\n  const n = new Bignumber(num)\n  return n.isFinite() && !n.isNaN()\n}\n\n/**乘法 */\nexport function multiply(a: number | string, b: number | string) {\n  return new Bignumber(a).times(b).toNumber()\n}\n\n/**除法 */\nexport function divide(a: number | string, b: number | string) {\n  return new Bignumber(a).div(b).toNumber()\n}\n\n/**加法 */\nexport function add(a: number | string, b: number | string) {\n  return new Bignumber(a).plus(b).toNumber()\n}\n\n/**减法 */\nexport function subtract(a: number | string, b: number | string) {\n  return new Bignumber(a).minus(b).toNumber()\n}\n\n/**取余 */\nexport function mod(a: number | string, b: number | string) {\n  return new Bignumber(a).mod(b).toNumber()\n}\n","import { useMemo } from 'react'\nimport { useSearchParams } from 'react-router'\nimport { isNumber } from '@/utils'\n\nexport default function useQuery() {\n  const [query] = useSearchParams()\n  return useMemo(\n    () =>\n      query.entries().reduce((acc, [key, value]) => {\n        if (value === 'undefined') {\n          acc[key] = undefined\n        } else if (value === 'null') {\n          acc[key] = null\n        }\n        // 避免数字长度超过16为转换精度丢失\n        else if (value.length <= 16 && isNumber(value)) {\n          acc[key] = Number(value)\n        }\n        // 以逗号分割的数组\n        else if (value.includes(',')) {\n          acc[key] = value.split(',').map(item => (isNumber(item) ? Number(item) : item))\n        } else {\n          acc[key] = value\n        }\n        return acc\n      }, {} as Record<string, any>),\n    [query]\n  )\n}\n","import { useActionState, startTransition } from 'react'\n\n/**\n * 为异步函数添加 loading，不接收函数返回值\n * @param dispatch 异步函数\n * @returns [action, loading]\n ** action 触发异步函数\n ** loading 异步函数是否执行中\n */\nexport default function useAsyncAction<T extends any = any>(\n  dispatch: (payload: T) => void | Promise<void>\n) {\n  const [_, action, loading] = useActionState<void, T>(\n    (_: void, payload: T) => dispatch(payload),\n    void 0\n  )\n  return [(values: T) => startTransition(() => action(values)), loading] as const\n}\n","import { Tooltip as AntdTooltip } from 'antd'\nimport { styled } from '@quick/cssinjs'\n\nconst Tooltip = styled(AntdTooltip)\n\nexport type TooltipProps = React.ComponentProps<typeof Tooltip>\n\nexport default Tooltip\n","import { Space as AntdSpace } from 'antd'\nimport { styled } from '@quick/cssinjs'\n\nconst Space = styled(AntdSpace)\n\nexport type SpaceProps = typeof AntdSpace\n\nexport default Space\n","import type { ComponentProps } from 'react'\nimport { styled } from '@quick/cssinjs'\nimport { Button as AntdButton } from 'antd'\n\nconst Button = styled(AntdButton)\n\nexport type ButtonProps = ComponentProps<typeof Button>\n\nexport default Button\n","import { App } from 'antd'\nimport type { MessageInstance } from 'antd/es/message/interface'\n\nlet message: MessageInstance\n\nexport const useRegisterMessage = () => {\n  const { message: messageInstance } = App.useApp()\n  message = messageInstance\n  return null\n}\n\nexport { message }\n","import { createContext } from 'react'\nimport { Dicts } from '@/dicts/types'\n\nexport const ConfigContext = createContext<{\n  dicts: Dicts\n}>({\n  dicts: {}\n})\n","import { useContext } from 'react'\nimport type { DictItem, Dicts, DictCode } from './types'\nimport { ConfigContext } from '@/config-provider/context'\n\n/**获取全部的字典数据 */\nexport function useDicts() {\n  const { dicts } = useContext(ConfigContext)\n  return dicts\n}\n\n/**根据code获取字典列表数据 */\nexport function useDict<T extends DictCode>(code: T) {\n  const dicts = useDicts()\n  return dicts[code]\n}\n\n/**根据code和value获取字典的某一项 */\nexport function useDictItem<T extends DictCode>(code: T, value: Dicts[T][number]['value']) {\n  const dict = useDict(code)\n  return dict?.find((item: DictItem) => item.value === value)\n}\n\n/**根据字典code和value获取字典的label */\nexport function useDictLabel<T extends DictCode>(code: T, value: Dicts[T][number]['value']) {\n  const item = useDictItem(code, value)\n  return item?.label\n}\n\n/**根据字典code和value获取字典的status */\nexport function useDictStatus<T extends DictCode>(code: T, value: Dicts[T][number]['value']) {\n  const item = useDictItem(code, value)\n  return item?.status\n}\n","import { type MouseEvent, useMemo } from 'react'\nimport type { SxProps } from '@quick/cssinjs'\nimport { QuestionCircleOutlined } from '@ant-design/icons'\nimport copy from 'copy-to-clipboard'\nimport { zerofill, round, isNumber, thousands, multiply } from '@/utils'\nimport { useNavigate } from '@/hooks'\nimport Tooltip from '@/components/tooltip'\nimport Space from '@/components/space'\nimport Button from '@/components/button'\nimport { message } from '@/components/message'\nimport { useDicts, type DictItem } from '@/dicts'\nimport type { AnyObject, ColumnProps, ColumnGroupType, Action, TableProps } from './types'\n\n/**复制文本 */\nconst copyText = (e: MouseEvent<HTMLTableCellElement>) => {\n  // 选中单元格整行文本\n  const selection = window.getSelection()\n  selection?.removeAllRanges()\n  const range = document.createRange()\n  range.selectNodeContents(e.currentTarget)\n  selection?.addRange(range)\n\n  const text = e.currentTarget?.innerText\n  if (text && copy(text)) {\n    message.success('文本已复制')\n  }\n}\n\nconst handleStatus = (\n  status: ColumnProps<any>['status'],\n  value: any,\n  record: AnyObject,\n  index: number\n) => {\n  let statusStr = typeof status === 'function' ? status(value, record, index) : status\n  switch (statusStr) {\n    case 'completed':\n      return 'link'\n    case 'invalid':\n      return 'disabled'\n    case 'waiting':\n      return 'warning'\n    case 'default':\n      return null\n    default:\n      return statusStr || null\n  }\n}\n\nconst handleColumn = <T extends AnyObject = AnyObject>(\n  col: ColumnProps<T>,\n  dicts: ReturnType<typeof useDicts>,\n  navigate: ReturnType<typeof useNavigate>\n): ColumnProps<T> => {\n  let {\n    status,\n    bold,\n    thousand: thousandNum,\n    link,\n    precision,\n    zerofill: fill,\n    percent,\n    suffix,\n    title,\n    tooltip,\n    dictCode,\n    render: renderFunc,\n    onCell: onCellFunc,\n    ...args\n  } = col\n  const render = (value: any, record: T, index: number) => {\n    const sx: SxProps = {}\n    value = renderFunc?.(value, record, index) ?? value\n    // 处理字典\n    if (dictCode) {\n      const dict = dicts[dictCode]\n      const item = dict?.find((item: DictItem) => item.value === value)\n      if (item) {\n        value = item.label\n        status = item.status\n      }\n    }\n    // 处理超链接\n    if (link) {\n      link = typeof link === 'function' ? link(value, record, index) : link\n      if (link) {\n        sx.color = 'link'\n        sx.cursor = 'pointer'\n      }\n    }\n    // 处理状态\n    if (status) sx.color = handleStatus(status, value, record, index)\n    // 处理粗体\n    if (bold) sx.fontWeight = 'bold'\n    if (isNumber(value)) {\n      // 处理百分比(先*100,处理完千分位和四舍五入等在添加%号)\n      if (percent) value = multiply(value, 100)\n      // 处理四舍五入\n      if (precision === true) precision = 2\n      if (isNumber(precision)) value = round(value, precision)\n      // 小数补零\n      if (fill === true) fill = precision || 0\n      if (isNumber(fill)) value = zerofill(value, fill)\n      // 处理千分位\n      if (typeof thousandNum === 'function' ? thousandNum(value, record, index) : col.thousand) {\n        value = thousands(value)\n      }\n      // 添加%\n      if (percent) value = `${value}%`\n    }\n    return (\n      <span sx={sx} onClick={link ? () => navigate(link as string) : undefined}>\n        {value}\n        {suffix ?? null}\n      </span>\n    )\n  }\n  const children = (col as ColumnGroupType<T>).children\n  return {\n    ...args,\n    children: children?.map(col => handleColumn(col, dicts, navigate)) ?? undefined,\n    title: tooltip\n      ? (...arrs) => (\n          <span>\n            {typeof title === 'function' ? title(...arrs) : title}\n            <Tooltip title={tooltip} verticalAlign='middle' ml={1} cursor='pointer'>\n              <QuestionCircleOutlined />\n            </Tooltip>\n          </span>\n        )\n      : title,\n    render,\n    onCell: (record, index) => ({\n      onDoubleClick: copyText,\n      ...(onCellFunc ? onCellFunc(record, index) : {})\n    })\n  }\n}\n\nconst handleActions = <T extends AnyObject = AnyObject>(\n  actions: Action<T>[],\n  actionFixed: TableProps['actionFixed'],\n  actionTitle: TableProps['actionTitle'],\n  actionWidth: TableProps['actionWidth']\n): ColumnProps<T> => {\n  return {\n    title: actionTitle || '操作',\n    dataIndex: '__actions',\n    width: actionWidth,\n    fixed: actionFixed ?? 'right',\n    render: (_, record, index) => (\n      <Space>\n        {actions.map((action, i) => {\n          let { title, visible = true, render, className, type, onClick, ...args } = action\n          const show = typeof visible === 'function' ? visible(record, index) : visible\n          if (!show) return null\n          if (typeof render === 'function') title = render(record, index)\n          if (typeof className === 'function') className = className(record, index)\n          return (\n            <Button\n              key={i}\n              p={0}\n              type={type ?? 'link'}\n              className={className}\n              onClick={e => onClick?.(e, record, index)}\n              {...args}\n            >\n              {title}\n            </Button>\n          )\n        })}\n      </Space>\n    )\n  }\n}\nexport const useColumns = <T extends AnyObject = AnyObject>(\n  columns: ColumnProps<T>[],\n  actions?: Action<T>[],\n  actionFixed?: TableProps['actionFixed'],\n  actionTitle?: TableProps['actionTitle'],\n  actionWidth?: TableProps['actionWidth']\n): ColumnProps<T>[] => {\n  const navigate = useNavigate()\n  const dicts = useDicts()\n  return useMemo(\n    () =>\n      columns\n        .map(col => handleColumn(col, dicts, navigate))\n        .concat(handleActions(actions || [], actionFixed, actionTitle, actionWidth)),\n    [columns, actions, dicts, navigate, actionFixed, actionTitle, actionWidth]\n  )\n}\n","import { useMemo } from 'react'\nimport { Table } from 'antd'\nimport { isNumber, round, zerofill, thousands, multiply } from '@/utils'\nimport type { SxProps } from '@quick/cssinjs'\nimport type {\n  ColumnProps,\n  ColumnType,\n  ColumnGroupType,\n  AnyObject,\n  TableProps,\n  SummaryProps\n} from './types'\n\nconst { Summary } = Table\n\nconst flatten = (arr: ColumnProps<any>[]) => {\n  return arr.reduce((acc, props) => {\n    const { children, ...rest } = props as ColumnGroupType\n    acc.push(rest)\n    if (Array.isArray(children)) acc.push(...flatten(children))\n    return acc\n  }, [] as ColumnType[])\n}\n\nexport const useSummary = <T extends AnyObject = AnyObject>(\n  columns: ColumnProps<T>[],\n  summaryMap?: Record<string, number>,\n  rowSelection?: TableProps<T>['rowSelection']\n) => {\n  return useMemo(() => {\n    const summaryList = flatten(columns)\n    const hasTotal = summaryList.some(item => item.total)\n    return hasTotal\n      ? () => (\n          <Summary fixed>\n            <Summary.Row>\n              {rowSelection && <Summary.Cell index={0} />}\n              <Summary.Cell index={rowSelection ? 1 : 0}>合计</Summary.Cell>\n              {summaryList.slice(1).map((item, index) => {\n                let sx: SxProps = {}\n                let defaultSummary: SummaryProps = { thousand: true }\n                let value: number | string | undefined =\n                  summaryMap?.[item.totalField ?? (item.dataIndex as string)]\n                if (typeof item.total === 'object') {\n                  defaultSummary = { ...defaultSummary, ...item.total }\n                }\n                let {\n                  precision,\n                  zerofill: fill,\n                  percent,\n                  thousand: thousandNum,\n                  formatter,\n                  className,\n                  status\n                } = defaultSummary\n                if (typeof formatter === 'function') {\n                  value = formatter(value)\n                }\n                if (isNumber(value)) {\n                  // 处理百分比\n                  if (percent) value = multiply(Number(value), 100)\n                  // 处理四舍五入\n                  if (precision === true) precision = 2\n                  if (isNumber(precision)) value = round(value, precision)\n                  // 小数补零\n                  if (fill === true) fill = precision || 0\n                  if (isNumber(fill)) value = zerofill(value, fill)\n                  // 处理千分位\n                  if (thousandNum) value = value ? thousands(value) : value\n                  // 添加%\n                  if (percent) value = `${value}%`\n                }\n                className = typeof className === 'function' ? className(value) : className\n                if (status) {\n                  const statusColor = typeof status === 'function' ? status(value) : status\n                  sx.color = statusColor === 'default' ? null : statusColor\n                }\n                return (\n                  <Summary.Cell\n                    className={className ?? undefined}\n                    key={index + 1}\n                    index={index + 1}\n                    sx={sx}\n                  >\n                    {value ?? null}\n                  </Summary.Cell>\n                )\n              })}\n            </Summary.Row>\n          </Summary>\n        )\n      : undefined\n  }, [columns, summaryMap])\n}\n","import { Table as AntdTable, type TableProps as AntdTableProps } from 'antd'\nimport { styled } from '@quick/cssinjs'\nimport { useColumns } from './column'\nimport { useSummary } from './summary'\nimport type { AnyObject, TableProps } from './types'\n\nconst StyledTable = styled<React.ComponentType<AntdTableProps<any>>>(AntdTable)\n\nexport default function Table<T extends AnyObject = AnyObject>({\n  columns = [],\n  actionFixed,\n  actionTitle,\n  actionWidth,\n  actions,\n  summaryMap,\n  rowSelection,\n  rowKey = 'id',\n  ...props\n}: TableProps<T>) {\n  const cols = useColumns(columns, actions, actionFixed, actionTitle, actionWidth)\n  const summary = useSummary(cols, summaryMap, rowSelection)\n  return (\n    <StyledTable\n      rowKey={rowKey}\n      columns={cols}\n      rowSelection={rowSelection}\n      summary={summary}\n      {...props}\n    />\n  )\n}\n","import type { ColumnProps, AnyObject } from './types'\nimport Table from './table'\nexport * from './types'\n\n/**仅在 dataSource[number] 类型未知时使用，通过columns内容自动推断 dataSource[number] 的类型  */\nexport function defineColumns<const T extends ColumnProps<AnyObject>[]>(columns: T) {\n  type P = T[number] extends { dataIndex: string } ? T[number]['dataIndex'] : never\n  type Row = {\n    [K in P]: any\n  }\n  return columns as ColumnProps<Row & AnyObject>[]\n}\n\nexport default Table\n","import { Form } from 'antd'\nimport { styled } from '@quick/cssinjs'\n\nconst StyledItem = styled<typeof Form.Item<any>>(Form.Item)\ntype CompoundedComponent = typeof StyledItem & {\n  useStatus: typeof Form.Item.useStatus\n}\nconst Item = StyledItem as CompoundedComponent\nItem.useStatus = Form.Item.useStatus\n\nexport default Item\n","import { Form } from 'antd'\nimport { styled } from '@quick/cssinjs'\n\nconst ErrorList = styled(Form.ErrorList)\n\nexport default ErrorList\n","import { Form } from 'antd'\nimport { styled } from '@quick/cssinjs'\n\nconst Provider = styled(Form.Provider)\n\nexport default Provider\n","import { Form as AntdForm, type FormInstance } from 'antd'\nimport { styled } from '@quick/cssinjs'\nimport Item from './item'\nimport ErrorList from './error-list'\nimport Provider from './provider'\n\nconst { useForm, useFormInstance, useWatch } = AntdForm\n\n// 不能推断泛型默认值，所以要手动传入泛型any\nconst StyledForm = styled<typeof AntdForm<any>>(AntdForm)\n\ntype CompoundedComponent = typeof StyledForm & {\n  Item: typeof Item\n  List: typeof AntdForm.List\n  ErrorList: typeof ErrorList\n  Provider: typeof Provider\n  useForm: typeof useForm\n  useFormInstance: typeof useFormInstance\n  useWatch: typeof useWatch\n}\n\nconst Form = StyledForm as CompoundedComponent\nForm.Item = Item\nForm.List = AntdForm.List\nForm.ErrorList = ErrorList\nForm.Provider = Provider\nForm.useForm = useForm\nForm.useFormInstance = useFormInstance\nForm.useWatch = useWatch\n\nexport type FormProps = React.ComponentProps<typeof StyledForm>\nexport type FormItemProps = React.ComponentProps<typeof Item>\nexport type FormListProps = React.ComponentProps<typeof AntdForm.List>\nexport type FormErrorListProps = React.ComponentProps<typeof ErrorList>\nexport type FormProviderProps = React.ComponentProps<typeof Provider>\nexport type { FormInstance }\n\nexport default Form\n","import type { ComponentProps } from 'react'\nimport { styled } from '@quick/cssinjs'\n\nconst StyledBox = styled('div')\n\nexport type BoxProps = ComponentProps<typeof StyledBox> & {\n  as?: keyof React.JSX.IntrinsicElements\n}\n\nconst Box = (props: BoxProps) => <StyledBox as={props.as} {...props} />\n\nexport default Box\n","import { isDayjs } from 'dayjs'\nimport { useCallback, useEffect, useMemo } from 'react'\nimport { SearchOutlined, RedoOutlined } from '@ant-design/icons'\nimport Form, { type FormProps } from '@/components/form'\nimport Button from '@/components/button'\nimport Box from '@/components/box'\nimport useQuery from '@/hooks/use-query'\nimport useAsyncAction from '@/hooks/use-async-action'\nimport { useTheme } from '@/theme'\n\nexport interface SearchProps extends FormProps {\n  okText?: React.ReactNode\n  resetText?: React.ReactNode\n  initLoad?: boolean\n  onSearch?: (values: Record<string, any>) => void | Promise<void>\n  onReset?: () => Promise<void> | void\n  colWidth?: number\n}\n\nexport default function Search({\n  children,\n  okText = '查询',\n  resetText = '重置',\n  initLoad,\n  onSearch,\n  onReset,\n  colWidth = 280,\n  size = 'middle',\n  form: externalForm,\n  initialValues,\n  ...props\n}: SearchProps) {\n  if (\n    Object.values(initialValues ?? {}).some(item =>\n      Array.isArray(item) ? item.some(i => isDayjs(i)) : isDayjs(item)\n    )\n  ) {\n    throw new Error('Search 不接收 dayjs 类型的初始值，请使用字符串格式化日期')\n  }\n  const [form] = Form.useForm(externalForm)\n  // 获取url参数\n  const query = useQuery()\n  const theme = useTheme()\n  // 控件高度\n  const height = useMemo(() => {\n    if (size === 'small') {\n      return theme.sizes.controlHeightSm\n    }\n    if (size === 'large') {\n      return theme.sizes.controlHeightLg\n    }\n    return theme.sizes.controlHeight\n  }, [theme, size])\n\n  const [onFinish, loading] = useAsyncAction<Record<string, any>>(async values => {\n    if (typeof onSearch === 'function') {\n      onSearch(values)\n    }\n  })\n\n  const onClear = useCallback(async () => {\n    form.resetFields()\n    if (typeof onReset === 'function') {\n      await onReset()\n    }\n    form.submit()\n  }, [form, onReset])\n\n  useEffect(() => {\n    form.setFieldsValue(query)\n    if (initLoad) {\n      form.submit()\n    }\n  }, [query, form, initLoad])\n\n  return (\n    <Form\n      layout='inline'\n      size={size}\n      form={form}\n      onFinish={onFinish}\n      initialValues={initialValues}\n      preserve\n      sx={{\n        bg: 'bg',\n        mb: 2,\n        display: 'grid',\n        gridTemplateColumns: `repeat(auto-fill, minmax(${colWidth / 2}px, 1fr))`,\n        p: 4,\n        gap: 2.5,\n        position: 'relative',\n        _after: {\n          content: '\"\"',\n          height,\n          gridColumn: 'span 1'\n        },\n        '& > *': {\n          gridColumn: 'span 2',\n          mr: 0\n        },\n        '.ant-row': {\n          flexWrap: 'nowrap'\n        },\n        '.ant-input-number, .ant-input-select, .ant-picker': {\n          w: 1\n        }\n      }}\n      {...props}\n    >\n      {children}\n      <Box\n        sx={{\n          position: 'absolute',\n          right: 4 * theme.space,\n          bottom: 4 * theme.space,\n          w: colWidth / 2,\n          display: 'flex',\n          justifyContent: 'space-between',\n          '.ant-btn': {\n            px: 2.5,\n            gap: 1\n          }\n        }}\n      >\n        <Button mr={2} onClick={onClear} icon={<RedoOutlined />}>\n          {resetText}\n        </Button>\n        <Button type='primary' htmlType='submit' loading={loading} icon={<SearchOutlined />}>\n          {okText}\n        </Button>\n      </Box>\n    </Form>\n  )\n}\n","import { cloneElement, isValidElement } from 'react'\nimport dayjs, { Dayjs, isDayjs } from 'dayjs'\nimport { isNumber } from '@/utils'\nimport Form from '@/components/form'\n\ntype FormItemProps = React.ComponentProps<typeof Form.Item>\n\nexport interface SearchItemProps extends FormItemProps {\n  /**搜索项占据的列数 */\n  span?: number\n  /**日期类型值的转换格式，默认YYYY-MM-DD HH:mm:ss */\n  format?: string\n  /**以数组形式接受多个值 */\n  names?: string[]\n}\n\n// 判断是否是日期类型\nconst isDate = (value: string | undefined, format: string) => {\n  if (!value) return false\n  // YYYYMMDD这种格式则必须传入format来强制定义格式\n  if (isNumber(value)) {\n    return dayjs(value, format).isValid()\n  }\n  return dayjs(value).isValid()\n}\n\n// 字符串转换为日期格式\nconst parseDate = (value: (string | undefined) | (string | undefined)[], format: string) => {\n  if (!value) return value\n  if (Array.isArray(value)) {\n    return value.map(v => (v && isDate(v, format) ? dayjs(v) : v))\n  }\n  return isDate(value, format) ? dayjs(value) : value\n}\n\n// 日期格式化为字符串\nconst formatDate = (value: Dayjs | Dayjs[] | undefined, format: string) => {\n  if (!value) return value\n  if (Array.isArray(value)) {\n    return value.map(v => (isDayjs(v) ? v.format(format) : v))\n  }\n  return isDayjs(value) ? value.format(format) : value\n}\n\nconst getFormat = (format: string | undefined, child: any) => {\n  if (format) return format\n  if (child?.props?.showTime) return 'YYYY-MM-DD HH:mm:ss'\n  return 'YYYY-MM-DD'\n}\n\nexport default function Item({\n  span = 1,\n  name,\n  names,\n  format,\n  initialValue,\n  children,\n  ...props\n}: SearchItemProps) {\n  if (Array.isArray(initialValue) ? initialValue.some(i => isDayjs(i)) : isDayjs(initialValue)) {\n    throw new Error('Search.Item 不接收 dayjs 类型的初始值，请使用字符串格式化日期')\n  }\n\n  if (names) {\n    return (\n      <Form.Item style={{ gridColumn: `span ${span * 2}` }} {...props}>\n        {names.map((v, i) => (\n          <Form.Item key={v} name={v} hidden noStyle initialValue={initialValue?.[i]} />\n        ))}\n        <Form.Item\n          noStyle\n          shouldUpdate={(preVal, nextVal) => {\n            return names.some(n => preVal[n] !== nextVal[n])\n          }}\n        >\n          {props => {\n            const values = props.getFieldsValue(names)\n            const child = typeof children === 'function' ? children(props) : children\n            return isValidElement(child)\n              ? cloneElement<any>(child, {\n                  value: names.map(n => parseDate(values[n], getFormat(format, child))),\n                  onChange: (originalValue: any) => {\n                    const value = formatDate(originalValue, getFormat(format, child))\n                    props.setFieldsValue(\n                      names.reduce((acc, n, i) => ({ ...acc, [n]: value?.[i] }), {})\n                    )\n                  }\n                })\n              : child\n          }}\n        </Form.Item>\n      </Form.Item>\n    )\n  }\n\n  return (\n    <Form.Item\n      name={name}\n      initialValue={initialValue}\n      {...props}\n      // 将children的值存入form\n      getValueFromEvent={e => {\n        const value = e?.currentTarget?.value ?? e?.target?.value ?? e\n        return formatDate(value, getFormat(format, children))\n      }}\n      // 将form的值转换为children的值\n      getValueProps={value => ({\n        value: parseDate(value, getFormat(format, children))\n      })}\n    >\n      {children}\n    </Form.Item>\n  )\n}\n","import StyledSearch, { type SearchProps } from './search'\nimport Item, { type SearchItemProps } from './item'\n\ntype CompoundedComponent = typeof StyledSearch & {\n  Item: typeof Item\n}\n\nconst Search = StyledSearch as CompoundedComponent\nSearch.Item = Item\n\nexport type { SearchProps, SearchItemProps }\n\nexport default Search\n","import { Dropdown as AntdDropdown } from 'antd'\nimport { styled } from '@quick/cssinjs'\n\nconst Dropdown = styled(AntdDropdown)\n\nexport type DropdownProps = React.ComponentProps<typeof AntdDropdown>\n\nexport default Dropdown\n","import { Popover as AntdPopover } from 'antd'\nimport { styled } from '@quick/cssinjs'\n\nconst Popover = styled(AntdPopover)\n\nexport type PopoverProps = React.ComponentProps<typeof AntdPopover>\n\nexport default Popover\n","import { Checkbox as AntdCheckbox, type CheckboxChangeEvent } from 'antd'\nimport { styled } from '@quick/cssinjs'\n\nconst { Group: AntdCheckboxGroup } = AntdCheckbox\n\nconst StyledCheckbox = styled(AntdCheckbox)\nconst StyledGroup = styled<typeof AntdCheckboxGroup<any>>(AntdCheckboxGroup)\n\ntype CompoundedComponent = typeof StyledCheckbox & {\n  Group: typeof StyledGroup\n}\n\nconst Checkbox = StyledCheckbox as CompoundedComponent\nCheckbox.Group = StyledGroup\n\nexport type CheckboxProps = React.ComponentProps<typeof AntdCheckbox>\nexport type { CheckboxChangeEvent }\nexport default Checkbox\n","import { useMemo, useCallback } from 'react'\nimport type { ComponentCssStyles } from '@quick/cssinjs'\nimport { ColumnHeightOutlined, SettingOutlined } from '@ant-design/icons'\nimport type { ColumnProps, AnyObject } from '@/components/table'\nimport Box from '@/components/box'\nimport Space from '@/components/space'\nimport Tooltip from '@/components/tooltip'\nimport Dropdown from '@/components/dropdown'\nimport Popover from '@/components/popover'\nimport Checkbox, { type CheckboxChangeEvent } from '@/components/checkbox'\n\nconst CheckboxGroup = Checkbox.Group\n\nconst sizeItem = [\n  { key: 'large', label: '宽松' },\n  { key: 'middle', label: '中等' },\n  { key: 'small', label: '紧凑' }\n] satisfies { key: string; label: string }[]\n\ntype Size = 'large' | 'middle' | 'small'\n\ninterface ContentProps<RecordType extends AnyObject = AnyObject> {\n  columns?: ColumnProps<RecordType>[]\n  visibleKeys: string[]\n  defaultVisibleKeys: string[]\n  setVisibleKeys: (keys: string[]) => void\n}\n\ninterface ToolProps<RecordType extends AnyObject = AnyObject>\n  extends ContentProps<RecordType>,\n    ComponentCssStyles {\n  size?: Size\n  setSize?: (size: Size) => void\n}\n\nconst Content = <RecordType extends AnyObject>({\n  columns,\n  visibleKeys,\n  defaultVisibleKeys,\n  setVisibleKeys\n}: ContentProps<RecordType>) => {\n  const options = useMemo(() => {\n    return columns?.map(col => col.title as string) ?? []\n  }, [columns])\n  // 全选\n  const checkAll = useCallback(\n    (e: CheckboxChangeEvent) => {\n      if (e.target.checked) {\n        setVisibleKeys(options)\n      } else {\n        setVisibleKeys([])\n      }\n    },\n    [options]\n  )\n\n  return (\n    <Box>\n      <Box\n        sx={{\n          pb: 2,\n          mb: 2,\n          minW: 120,\n          display: 'flex',\n          justifyContent: 'space-between'\n        }}\n      >\n        <Checkbox\n          onChange={checkAll}\n          checked={visibleKeys.length === options.length}\n          indeterminate={visibleKeys.length > 0 && visibleKeys.length < options.length}\n        >\n          全选\n        </Checkbox>\n        <Box\n          as='span'\n          color='primary'\n          cursor='pointer'\n          onClick={() => setVisibleKeys(defaultVisibleKeys)}\n        >\n          重置\n        </Box>\n      </Box>\n      <CheckboxGroup\n        options={options}\n        value={visibleKeys}\n        onChange={e => setVisibleKeys(e)}\n        sx={{\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 1\n        }}\n      />\n    </Box>\n  )\n}\n\nexport default function Tool<RecordType extends AnyObject = AnyObject>({\n  size = 'middle',\n  visibleKeys,\n  defaultVisibleKeys,\n  setVisibleKeys,\n  setSize,\n  columns,\n  ...props\n}: ToolProps<RecordType>) {\n  return (\n    <Space size={size} {...props}>\n      <Tooltip title='密度'>\n        <Dropdown\n          trigger={['click']}\n          placement='bottomRight'\n          menu={{\n            items: sizeItem,\n            selectedKeys: [size],\n            onClick: ({ key }) => setSize?.(key as Size)\n          }}\n        >\n          <ColumnHeightOutlined />\n        </Dropdown>\n      </Tooltip>\n      <Tooltip title='展示列'>\n        <Popover\n          arrow={false}\n          trigger='click'\n          placement='bottomRight'\n          content={\n            <Content\n              columns={columns}\n              visibleKeys={visibleKeys}\n              defaultVisibleKeys={defaultVisibleKeys}\n              setVisibleKeys={setVisibleKeys}\n            />\n          }\n        >\n          <SettingOutlined />\n        </Popover>\n      </Tooltip>\n    </Space>\n  )\n}\n","import { useCallback, useState, useMemo } from 'react'\nimport type { ComponentCssStyles } from '@quick/cssinjs'\nimport Table, {\n  type TableProps,\n  type AnyObject,\n  type Action as TableAction\n} from '@/components/table'\nimport Search, { type SearchProps } from '@/components/search'\nimport Box from '@/components/box'\nimport useAsyncAction from '@/hooks/use-async-action'\nimport Tool from './tool'\n\nexport interface Action<RecordType extends AnyObject = AnyObject> extends TableAction<RecordType> {\n  display?: 'table' | 'search' | undefined\n}\n\nexport type PageProps<RecordType extends AnyObject = AnyObject> = ComponentCssStyles &\n  TableProps<RecordType> &\n  SearchProps & {\n    actions?: Action<RecordType>[]\n    showTool?: boolean\n  }\n\nexport default function Page<RecordType extends AnyObject = AnyObject>({\n  okText,\n  resetText,\n  initLoad,\n  onSearch: onSearchPage,\n  onReset: onResetPage,\n  colWidth,\n  children,\n  initialValues,\n  form,\n  size: defaultSize,\n  actions,\n  showTool = true,\n  columns,\n  ...props\n}: PageProps<RecordType>) {\n  const defaultVisibleKeys = useMemo(() => {\n    return columns?.filter(col => !col.hidden).map(col => col.title as string) ?? []\n  }, [columns])\n  const [size, setSize] = useState(defaultSize)\n  const [visibleKeys, setVisibleKeys] = useState<string[]>(defaultVisibleKeys)\n\n  const [onSearch, loading] = useAsyncAction<Record<string, any>>(async values => {\n    await onSearchPage?.(values)\n  })\n\n  const onReset = useCallback(async () => {}, [onResetPage])\n\n  const tableColumns = useMemo(() => {\n    return columns\n      ?.filter(col => visibleKeys.includes(col.title as string))\n      ?.map(col => ({ ...col, hidden: false }))\n  }, [columns, visibleKeys])\n\n  return (\n    <Box\n      sx={{\n        w: 1\n      }}\n    >\n      {children && (\n        <Search\n          form={form}\n          initLoad={initLoad}\n          initialValues={initialValues}\n          okText={okText}\n          resetText={resetText}\n          colWidth={colWidth}\n          size={size}\n          onSearch={onSearch}\n          onReset={onReset}\n        >\n          {children}\n        </Search>\n      )}\n      <Box bg='bg'>\n        <Box px={4} py={2} fontSize='subtitle'>\n          {showTool && (\n            <Tool\n              size={size}\n              columns={columns}\n              setSize={setSize}\n              visibleKeys={visibleKeys}\n              defaultVisibleKeys={defaultVisibleKeys}\n              setVisibleKeys={setVisibleKeys}\n            />\n          )}\n        </Box>\n        <Table columns={tableColumns} loading={loading} size={size} {...props} />\n      </Box>\n    </Box>\n  )\n}\n"]}