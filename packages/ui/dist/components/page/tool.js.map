{"version":3,"sources":["../../../src/components/box/index.tsx","../../../src/components/space/index.tsx","../../../src/components/tooltip/index.tsx","../../../src/components/dropdown/index.tsx","../../../src/components/popover/index.tsx","../../../src/components/checkbox/index.tsx","../../../src/components/page/tool.tsx"],"names":["styled","AntdSpace","AntdTooltip","AntdDropdown","AntdPopover","AntdCheckbox","jsx"],"mappings":"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","file":"tool.js","sourcesContent":["import type { ComponentProps } from 'react'\nimport { styled } from '@quick/cssinjs'\n\nconst StyledBox = styled('div')\n\nexport type BoxProps = ComponentProps<typeof StyledBox> & {\n  as?: keyof React.JSX.IntrinsicElements\n}\n\nconst Box = (props: BoxProps) => <StyledBox as={props.as} {...props} />\n\nexport default Box\n","import { Space as AntdSpace } from 'antd'\nimport { styled } from '@quick/cssinjs'\n\nconst Space = styled(AntdSpace)\n\nexport type SpaceProps = typeof AntdSpace\n\nexport default Space\n","import { Tooltip as AntdTooltip } from 'antd'\nimport { styled } from '@quick/cssinjs'\n\nconst Tooltip = styled(AntdTooltip)\n\nexport type TooltipProps = React.ComponentProps<typeof Tooltip>\n\nexport default Tooltip\n","import { Dropdown as AntdDropdown } from 'antd'\nimport { styled } from '@quick/cssinjs'\n\nconst Dropdown = styled(AntdDropdown)\n\nexport type DropdownProps = React.ComponentProps<typeof AntdDropdown>\n\nexport default Dropdown\n","import { Popover as AntdPopover } from 'antd'\nimport { styled } from '@quick/cssinjs'\n\nconst Popover = styled(AntdPopover)\n\nexport type PopoverProps = React.ComponentProps<typeof AntdPopover>\n\nexport default Popover\n","import { Checkbox as AntdCheckbox, type CheckboxChangeEvent } from 'antd'\nimport { styled } from '@quick/cssinjs'\n\nconst { Group: AntdCheckboxGroup } = AntdCheckbox\n\nconst StyledCheckbox = styled(AntdCheckbox)\nconst StyledGroup = styled<typeof AntdCheckboxGroup<any>>(AntdCheckboxGroup)\n\ntype CompoundedComponent = typeof StyledCheckbox & {\n  Group: typeof StyledGroup\n}\n\nconst Checkbox = StyledCheckbox as CompoundedComponent\nCheckbox.Group = StyledGroup\n\nexport type CheckboxProps = React.ComponentProps<typeof AntdCheckbox>\nexport type { CheckboxChangeEvent }\nexport default Checkbox\n","import { useMemo, useCallback } from 'react'\nimport type { ComponentCssStyles } from '@quick/cssinjs'\nimport { ColumnHeightOutlined, SettingOutlined } from '@ant-design/icons'\nimport type { ColumnProps, AnyObject } from '@/components/table'\nimport Box from '@/components/box'\nimport Space from '@/components/space'\nimport Tooltip from '@/components/tooltip'\nimport Dropdown from '@/components/dropdown'\nimport Popover from '@/components/popover'\nimport Checkbox, { type CheckboxChangeEvent } from '@/components/checkbox'\n\nconst CheckboxGroup = Checkbox.Group\n\nconst sizeItem = [\n  { key: 'large', label: '宽松' },\n  { key: 'middle', label: '中等' },\n  { key: 'small', label: '紧凑' }\n] satisfies { key: string; label: string }[]\n\ntype Size = 'large' | 'middle' | 'small'\n\ninterface ContentProps<RecordType extends AnyObject = AnyObject> {\n  columns?: ColumnProps<RecordType>[]\n  visibleKeys: string[]\n  defaultVisibleKeys: string[]\n  setVisibleKeys: (keys: string[]) => void\n}\n\ninterface ToolProps<RecordType extends AnyObject = AnyObject>\n  extends ContentProps<RecordType>,\n    ComponentCssStyles {\n  size?: Size\n  setSize?: (size: Size) => void\n}\n\nconst Content = <RecordType extends AnyObject>({\n  columns,\n  visibleKeys,\n  defaultVisibleKeys,\n  setVisibleKeys\n}: ContentProps<RecordType>) => {\n  const options = useMemo(() => {\n    return columns?.map(col => col.title as string) ?? []\n  }, [columns])\n  // 全选\n  const checkAll = useCallback(\n    (e: CheckboxChangeEvent) => {\n      if (e.target.checked) {\n        setVisibleKeys(options)\n      } else {\n        setVisibleKeys([])\n      }\n    },\n    [options]\n  )\n\n  return (\n    <Box>\n      <Box\n        sx={{\n          pb: 2,\n          mb: 2,\n          minW: 120,\n          display: 'flex',\n          justifyContent: 'space-between'\n        }}\n      >\n        <Checkbox\n          onChange={checkAll}\n          checked={visibleKeys.length === options.length}\n          indeterminate={visibleKeys.length > 0 && visibleKeys.length < options.length}\n        >\n          全选\n        </Checkbox>\n        <Box\n          as='span'\n          color='primary'\n          cursor='pointer'\n          onClick={() => setVisibleKeys(defaultVisibleKeys)}\n        >\n          重置\n        </Box>\n      </Box>\n      <CheckboxGroup\n        options={options}\n        value={visibleKeys}\n        onChange={e => setVisibleKeys(e)}\n        sx={{\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 1\n        }}\n      />\n    </Box>\n  )\n}\n\nexport default function Tool<RecordType extends AnyObject = AnyObject>({\n  size = 'middle',\n  visibleKeys,\n  defaultVisibleKeys,\n  setVisibleKeys,\n  setSize,\n  columns,\n  ...props\n}: ToolProps<RecordType>) {\n  return (\n    <Space size={size} {...props}>\n      <Tooltip title='密度'>\n        <Dropdown\n          trigger={['click']}\n          placement='bottomRight'\n          menu={{\n            items: sizeItem,\n            selectedKeys: [size],\n            onClick: ({ key }) => setSize?.(key as Size)\n          }}\n        >\n          <ColumnHeightOutlined />\n        </Dropdown>\n      </Tooltip>\n      <Tooltip title='展示列'>\n        <Popover\n          arrow={false}\n          trigger='click'\n          placement='bottomRight'\n          content={\n            <Content\n              columns={columns}\n              visibleKeys={visibleKeys}\n              defaultVisibleKeys={defaultVisibleKeys}\n              setVisibleKeys={setVisibleKeys}\n            />\n          }\n        >\n          <SettingOutlined />\n        </Popover>\n      </Tooltip>\n    </Space>\n  )\n}\n"]}