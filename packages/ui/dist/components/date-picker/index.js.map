{"version":3,"sources":["../../../src/components/date-picker/range-picker.tsx","../../../src/components/date-picker/index.tsx"],"names":["AntdDatePicker","styled"],"mappings":"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","file":"index.js","sourcesContent":["import { useMemo } from 'react'\nimport { DatePicker as AntdDatePicker } from 'antd'\nimport { styled, useClassName } from '@quick/cssinjs'\nimport dayjs, { Dayjs } from 'dayjs'\n\nconst { RangePicker: AntdRangePicker } = AntdDatePicker\n\nconst StyledRangePicker = styled(AntdRangePicker)\n\nexport type RangePickerProps = React.ComponentProps<typeof StyledRangePicker>\n\ntype Preset = {\n  label: React.ReactNode\n  value: [Dayjs | null, Dayjs | null]\n}\n\nconst usePresets = (\n  showTime?: RangePickerProps['showTime'],\n  allowEmpty?: RangePickerProps['allowEmpty']\n): Preset[] => {\n  const presets = useMemo(() => {\n    const arr: Preset[] = showTime\n      ? [\n          { label: '今日', value: [dayjs().startOf('day'), dayjs().add(1, 'day').startOf('day')] },\n          {\n            label: '昨日',\n            value: [dayjs().subtract(1, 'day').startOf('day'), dayjs().startOf('day')]\n          },\n          {\n            label: '本周',\n            value: [dayjs().startOf('week'), dayjs().add(1, 'week').startOf('week')]\n          },\n          {\n            label: '上周',\n            value: [dayjs().subtract(1, 'week').startOf('week'), dayjs().startOf('week')]\n          },\n          {\n            label: '本月',\n            value: [dayjs().startOf('month'), dayjs().add(1, 'month').startOf('month')]\n          },\n          {\n            label: '上月',\n            value: [dayjs().subtract(1, 'month').startOf('month'), dayjs().startOf('month')]\n          },\n          {\n            label: '近45天',\n            value: [dayjs().subtract(45, 'day'), dayjs().add(1, 'day').startOf('day')]\n          },\n          {\n            label: '今年',\n            value: [dayjs().startOf('year'), dayjs().add(1, 'year').startOf('year')]\n          },\n          {\n            label: '近5年',\n            value: [dayjs().subtract(5, 'year'), dayjs().add(1, 'year').startOf('year')]\n          }\n        ]\n      : [\n          { label: '今日', value: [dayjs(), dayjs()] },\n          { label: '昨日', value: [dayjs().subtract(1, 'day'), dayjs().subtract(1, 'day')] },\n          { label: '本周', value: [dayjs().startOf('week'), dayjs().endOf('week')] },\n          {\n            label: '上周',\n            value: [\n              dayjs().subtract(1, 'week').startOf('week'),\n              dayjs().subtract(1, 'week').endOf('week')\n            ]\n          },\n          { label: '本月', value: [dayjs().startOf('month'), dayjs().endOf('month')] },\n          {\n            label: '上月',\n            value: [\n              dayjs().subtract(1, 'month').startOf('month'),\n              dayjs().subtract(1, 'month').endOf('month')\n            ]\n          },\n          { label: '近45天', value: [dayjs().subtract(45, 'day'), dayjs()] },\n          { label: '今年', value: [dayjs().startOf('year'), dayjs().endOf('year')] },\n          { label: '近5年', value: [dayjs().subtract(5, 'year'), dayjs()] }\n        ]\n    if (allowEmpty === true || (Array.isArray(allowEmpty) && allowEmpty[0])) {\n      arr.push({\n        label: '截止昨日',\n        value: [null, showTime ? dayjs().startOf('day') : dayjs().subtract(1, 'day')]\n      })\n    }\n    return arr\n  }, [showTime, allowEmpty])\n\n  return presets as Preset[]\n}\n\nexport default function RangePicker({\n  showTime,\n  allowEmpty = [true, true],\n  ...props\n}: RangePickerProps) {\n  const presets = usePresets(showTime, allowEmpty)\n  const popupRootCls = useClassName({\n    '.ant-picker-panel-layout': {\n      minHeight: 330\n    }\n  })\n  return (\n    <StyledRangePicker\n      presets={presets}\n      showTime={showTime}\n      allowEmpty={allowEmpty}\n      classNames={{\n        popup: {\n          root: popupRootCls\n        }\n      }}\n      {...props}\n    />\n  )\n}\n","import { DatePicker as AntdDatePicker } from 'antd'\nimport { styled } from '@quick/cssinjs'\nexport { default as RangePicker, type RangePickerProps } from './range-picker'\n\nconst DatePicker = styled(AntdDatePicker)\n\nexport type DatePickerProps = typeof DatePicker\n\nexport default DatePicker\n"]}