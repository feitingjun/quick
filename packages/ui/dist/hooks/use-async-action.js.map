{"version":3,"sources":["../../src/hooks/use-async-action.ts"],"names":["_"],"mappings":";;;AASe,SAAR,eACL,QAAA,EACA;AACA,EAAA,MAAM,CAAC,CAAA,EAAG,MAAA,EAAQ,OAAO,CAAA,GAAI,cAAA;AAAA,IAC3B,CAACA,EAAAA,EAAS,OAAA,KAAe,QAAA,CAAS,OAAO,CAAA;AAAA,IACzC;AAAA,GACF;AACA,EAAA,OAAO,CAAC,CAAC,MAAA,KAAc,eAAA,CAAgB,MAAM,MAAA,CAAO,MAAM,CAAC,CAAA,EAAG,OAAO,CAAA;AACvE","file":"use-async-action.js","sourcesContent":["import { useActionState, startTransition } from 'react'\n\n/**\n * 为异步函数添加 loading，不接收函数返回值\n * @param dispatch 异步函数\n * @returns [action, loading]\n ** action 触发异步函数\n ** loading 异步函数是否执行中\n */\nexport default function useAsyncAction<T extends any = any>(\n  dispatch: (payload: T) => void | Promise<void>\n) {\n  const [_, action, loading] = useActionState<void, T>(\n    (_: void, payload: T) => dispatch(payload),\n    void 0\n  )\n  return [(values: T) => startTransition(() => action(values)), loading] as const\n}\n"]}