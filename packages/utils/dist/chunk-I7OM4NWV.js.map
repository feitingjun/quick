{"version":3,"sources":["../src/hbs.ts"],"sourcesContent":["import { readFileSync, writeFileSync } from 'fs'\nimport hbs from 'handlebars'\nimport { chalk } from './chalk'\n\nhbs.registerHelper('isArray', function (this: any, value, options) {\n  return hbs.Utils.isArray(value) ? options.fn(this) : options.inverse(this)\n})\nhbs.registerHelper('isString', function (this: any, value, options) {\n  return typeof value === 'string' ? options.fn(this) : options.inverse(this)\n})\nhbs.registerHelper('isEqual', function (value1, value2) {\n  return value1 === value2\n})\nhbs.registerHelper('and', function (value1, value2) {\n  return value1 && value2\n})\nhbs.registerHelper('or', function (value1, value2) {\n  return value1 || value2\n})\nhbs.registerHelper('rmTsx', function (value) {\n  return value.replace(/\\.tsx$/, '')\n})\nhbs.registerHelper('boolean', function (value) {\n  return !!value\n})\nhbs.registerHelper('repeat', function (num, str) {\n  return str.repeat(num)\n})\nhbs.registerHelper('space', function (value) {\n  if (typeof value !== 'number') {\n    value = 1\n  }\n  return ' '.repeat(value)\n})\n\n/**根据handlebars模板写入文件 */\nexport const renderHbsTpl = ({\n  sourcePath,\n  outPath,\n  data = {}\n}: {\n  sourcePath: string\n  outPath: string\n  data?: object\n}) => {\n  const rendered = hbs.compile(readFileSync(sourcePath, 'utf-8'))(data)\n  if (rendered) {\n    writeFileSync(outPath, rendered)\n  } else {\n    console.log(chalk.red(`加载模板文件失败: ${sourcePath}`))\n  }\n}\n"],"mappings":";;;;;AAAA,SAAS,cAAc,qBAAqB;AAC5C,OAAO,SAAS;AAGhB,IAAI,eAAe,WAAW,SAAqB,OAAO,SAAS;AACjE,SAAO,IAAI,MAAM,QAAQ,KAAK,IAAI,QAAQ,GAAG,IAAI,IAAI,QAAQ,QAAQ,IAAI;AAC3E,CAAC;AACD,IAAI,eAAe,YAAY,SAAqB,OAAO,SAAS;AAClE,SAAO,OAAO,UAAU,WAAW,QAAQ,GAAG,IAAI,IAAI,QAAQ,QAAQ,IAAI;AAC5E,CAAC;AACD,IAAI,eAAe,WAAW,SAAU,QAAQ,QAAQ;AACtD,SAAO,WAAW;AACpB,CAAC;AACD,IAAI,eAAe,OAAO,SAAU,QAAQ,QAAQ;AAClD,SAAO,UAAU;AACnB,CAAC;AACD,IAAI,eAAe,MAAM,SAAU,QAAQ,QAAQ;AACjD,SAAO,UAAU;AACnB,CAAC;AACD,IAAI,eAAe,SAAS,SAAU,OAAO;AAC3C,SAAO,MAAM,QAAQ,UAAU,EAAE;AACnC,CAAC;AACD,IAAI,eAAe,WAAW,SAAU,OAAO;AAC7C,SAAO,CAAC,CAAC;AACX,CAAC;AACD,IAAI,eAAe,UAAU,SAAU,KAAK,KAAK;AAC/C,SAAO,IAAI,OAAO,GAAG;AACvB,CAAC;AACD,IAAI,eAAe,SAAS,SAAU,OAAO;AAC3C,MAAI,OAAO,UAAU,UAAU;AAC7B,YAAQ;AAAA,EACV;AACA,SAAO,IAAI,OAAO,KAAK;AACzB,CAAC;AAGM,IAAM,eAAe,CAAC;AAAA,EAC3B;AAAA,EACA;AAAA,EACA,OAAO,CAAC;AACV,MAIM;AACJ,QAAM,WAAW,IAAI,QAAQ,aAAa,YAAY,OAAO,CAAC,EAAE,IAAI;AACpE,MAAI,UAAU;AACZ,kBAAc,SAAS,QAAQ;AAAA,EACjC,OAAO;AACL,YAAQ,IAAI,MAAM,IAAI,qDAAa,UAAU,EAAE,CAAC;AAAA,EAClD;AACF;","names":[]}